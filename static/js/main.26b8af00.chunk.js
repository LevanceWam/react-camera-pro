(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{13:function(n,e,t){n.exports=t(24)},18:function(n,e,t){},24:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t.n(r),o=t(8),a=t.n(o),c=(t(18),t(6)),u=t(2),d=t(1);function s(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var l,p,f,v,h=d.a.div(l||(l=s(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),g=d.a.div(p||(p=s(["\n  width: 100%;\n  ","\n"],["\n  width: 100%;\n  ","\n"])),(function(n){var e=n.aspectRatio;return"cover"===e?"\n    position: absolute;\n    bottom: 0\n    top: 0\n    left: 0\n    right: 0":"\n    position: relative;\n    padding-bottom: "+100/e+"%;"})),b=d.a.video(f||(f=s(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"],["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"])),(function(n){return n.mirrored?"180deg":"0deg"})),m=d.a.canvas(v||(v=s(["\n  display: none;\n"],["\n  display: none;\n"]))),w=i.a.forwardRef((function(n,e){var t=n.facingMode,o=void 0===t?"user":t,a=n.aspectRatio,c=void 0===a?"cover":a,u=n.numberOfCamerasCallback,d=void 0===u?function(){return null}:u,s=Object(r.useRef)(null),l=Object(r.useRef)(null),p=Object(r.useRef)(null),f=Object(r.useState)(0),v=f[0],w=f[1],k=Object(r.useState)(null),j=k[0],O=k[1],E=Object(r.useState)(o),y=E[0],C=E[1];return Object(r.useEffect)((function(){d(v)}),[v]),Object(r.useImperativeHandle)(e,(function(){return{takePhoto:function(){var n,e,t,r,i,o,a,c,u,d;if(v<1)throw new Error("There isn't any video device accessible.");if(null===(n=l)||void 0===n?void 0:n.current){var f=(null===(t=null===(e=s)||void 0===e?void 0:e.current)||void 0===t?void 0:t.videoWidth)||1280,h=(null===(i=null===(r=s)||void 0===r?void 0:r.current)||void 0===i?void 0:i.videoHeight)||720,g=f/h,b=((null===(a=null===(o=p)||void 0===o?void 0:o.current)||void 0===a?void 0:a.offsetWidth)||1280)/((null===(u=null===(c=p)||void 0===c?void 0:c.current)||void 0===u?void 0:u.offsetHeight)||1280),m=void 0,w=void 0,x=void 0,k=void 0;g>b?(k=h,m=(f-(x=h*b))/2,w=0):(x=f,m=0,w=(h-(k=f/b))/2),l.current.width=x,l.current.height=k;var j=l.current.getContext("2d");return j&&(null===(d=s)||void 0===d?void 0:d.current)&&j.drawImage(s.current,m,w,x,k,0,0,x,k),l.current.toDataURL("image/jpeg")}throw new Error("Canvas is not supported")},switchCamera:function(){if(v<1)throw new Error("There isn't any video device accessible.");v<2&&console.warn("It is not possible to switch camera to different one, because there is only one video device accessible.");var n="user"===y?"environment":"user";return C(n),n},getNumberOfCameras:function(){return v}}})),Object(r.useEffect)((function(){return x(j,O,y,w)}),[y]),Object(r.useEffect)((function(){j&&s&&s.current&&(s.current.srcObject=j)}),[j]),i.a.createElement(g,{ref:p,aspectRatio:c},i.a.createElement(h,null,i.a.createElement(b,{ref:s,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:"user"===y}),i.a.createElement(m,{ref:l})))}));w.displayName="Camera";var x=function(n,e,t,r){n&&n.getTracks().forEach((function(n){n.stop()}));var i={audio:!1,video:{facingMode:t,width:{ideal:1920},height:{ideal:1920}}};navigator.mediaDevices.getUserMedia(i).then((function(n){e(k(n,r))})).catch(j)},k=function(n,e){var t=n.getVideoTracks()[0].getSettings(),r=JSON.stringify(t,null,4);return console.log("Camera settings "+r),navigator.mediaDevices.enumerateDevices().then((function(n){return e(n.filter((function(n){return"videoinput"===n.kind})).length)})),n},j=function(n){if(console.error(n),"PermissionDeniedError"===n.name)throw new Error("Permission denied. Please refresh and give camera permission.")};function O(){var n=Object(u.a)(["\n  width: 120px;\n  height: 120px;\n  ","\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  @media (max-width: 400px) {\n    width: 50px;\n    height: 120px;\n  }\n"]);return O=function(){return n},n}function E(){var n=Object(u.a)(["\n  background: url(https://img.icons8.com/ios/50/000000/switch-camera.png);\n  background-position: center;\n  background-size: 40px;\n  background-repeat: no-repeat;\n  width: 40px;\n  height: 40px;\n  padding: 40px;\n  &:disabled {\n    opacity: 1;\n    cursor: default;\n  }\n  @media (max-width: 400px) {\n    padding: 40px 5px;\n  }\n"]);return E=function(){return n},n}function y(){var n=Object(u.a)(["\n  background: url('https://img.icons8.com/ios/50/000000/compact-camera.png');\n  background-position: center;\n  background-size: 50px;\n  background-repeat: no-repeat;\n  width: 80px;\n  height: 80px;\n  border: solid 4px black;\n  border-radius: 50%;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.3);\n  }\n"]);return y=function(){return n},n}function C(){var n=Object(u.a)(["\n  outline: none;\n  color: white;\n  opacity: 1;\n  background: transparent;\n  background-color: transparent;\n  background-position-x: 0%;\n  background-position-y: 0%;\n  background-repeat: repeat;\n  background-image: none;\n  padding: 0;\n  text-shadow: 0px 0px 4px black;\n  background-position: center center;\n  background-repeat: no-repeat;\n  pointer-events: auto;\n  cursor: pointer;\n  z-index: 2;\n  filter: invert(100%);\n  border: none;\n\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return C=function(){return n},n}function R(){var n=Object(u.a)(["\n  position: fixed;\n  display: flex;\n  right: 0;\n  width: 20%;\n  min-width: 130px;\n  min-height: 130px;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 50px;\n  box-sizing: border-box;\n  flex-direction: column-reverse;\n\n  @media (max-aspect-ratio: 1/1) {\n    flex-direction: row;\n    bottom: 0;\n    width: 100%;\n    height: 20%;\n  }\n\n  @media (max-width: 400px) {\n    padding: 10px;\n  }\n"]);return R=function(){return n},n}function z(){var n=Object(u.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n"]);return z=function(){return n},n}var P=d.a.div(z()),S=d.a.div(R()),D=d.a.button(C()),I=Object(d.a)(D)(y()),T=Object(d.a)(D)(E()),W=d.a.div(O(),(function(n){var e=n.image;return e?"background-image:  url(".concat(e,");"):""})),H=function(){var n=Object(r.useState)(0),e=Object(c.a)(n,2),t=e[0],o=e[1],a=Object(r.useState)(null),u=Object(c.a)(a,2),d=u[0],s=u[1],l=Object(r.useRef)(null);return i.a.createElement(P,null,i.a.createElement(w,{ref:l,aspectRatio:"cover",numberOfCamerasCallback:o}),i.a.createElement(S,null,i.a.createElement(W,{image:d}),i.a.createElement(I,{onClick:function(){if(l.current){var n=l.current.takePhoto();console.log(n),s(n)}}}),i.a.createElement(T,{disabled:t<=1,onClick:function(){if(l.current){var n=l.current.switchCamera();console.log(n)}}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.26b8af00.chunk.js.map