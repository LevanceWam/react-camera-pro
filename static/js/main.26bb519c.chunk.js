(this["webpackJsonpreact-camera-pro-example"]=this["webpackJsonpreact-camera-pro-example"]||[]).push([[0],{13:function(n,e,t){n.exports=t(24)},18:function(n,e,t){},24:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t.n(r),o=t(8),a=t.n(o),c=(t(18),t(6)),d=t(2),u=t(1);function s(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var l,p,v,f,g,b=u.a.div(l||(l=s(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),h=u.a.div(p||(p=s(["\n  width: 100%;\n  ","\n"],["\n  width: 100%;\n  ","\n"])),(function(n){var e=n.aspectRatio;return"cover"===e?"\n    position: absolute;\n    bottom: 0\n    top: 0\n    left: 0\n    right: 0":"\n    position: relative;\n    padding-bottom: "+100/e+"%;"})),m=u.a.div(v||(v=s(["\n  padding: 40px;\n"],["\n  padding: 40px;\n"]))),x=u.a.video(f||(f=s(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"],["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"])),(function(n){return n.mirrored?"180deg":"0deg"})),w=u.a.canvas(g||(g=s(["\n  display: none;\n"],["\n  display: none;\n"]))),k=i.a.forwardRef((function(n,e){var t=n.facingMode,o=void 0===t?"user":t,a=n.aspectRatio,c=void 0===a?"cover":a,d=n.numberOfCamerasCallback,u=void 0===d?function(){return null}:d,s=n.errorMessage,l=void 0===s?"Any camera device accessible. Please connect your camera or try different browser.":s,p=n.permissionDeniedMessage,v=void 0===p?"Permission denied. Please refresh and give camera permission.":p,f=Object(r.useRef)(null),g=Object(r.useRef)(null),k=Object(r.useRef)(null),O=Object(r.useState)(0),y=O[0],E=O[1],C=Object(r.useState)(null),z=C[0],M=C[1],R=Object(r.useState)(o),P=R[0],S=R[1],U=Object(r.useState)(!1),D=U[0],I=U[1],G=Object(r.useState)(!1),T=G[0],W=G[1];return Object(r.useEffect)((function(){u(y)}),[y]),Object(r.useImperativeHandle)(e,(function(){return{takePhoto:function(){var n,e,t,r,i,o,a,c,d,u;if(y<1)throw new Error("There isn't any video device accessible.");if(null===(n=g)||void 0===n?void 0:n.current){var s=(null===(t=null===(e=f)||void 0===e?void 0:e.current)||void 0===t?void 0:t.videoWidth)||1280,l=(null===(i=null===(r=f)||void 0===r?void 0:r.current)||void 0===i?void 0:i.videoHeight)||720,p=s/l,v=((null===(a=null===(o=k)||void 0===o?void 0:o.current)||void 0===a?void 0:a.offsetWidth)||1280)/((null===(d=null===(c=k)||void 0===c?void 0:c.current)||void 0===d?void 0:d.offsetHeight)||1280),b=void 0,h=void 0,m=void 0,x=void 0;p>v?(x=l,b=(s-(m=l*v))/2,h=0):(m=s,b=0,h=(l-(x=s/v))/2),g.current.width=m,g.current.height=x;var w=g.current.getContext("2d");return w&&(null===(u=f)||void 0===u?void 0:u.current)&&w.drawImage(f.current,b,h,m,x,0,0,m,x),g.current.toDataURL("image/jpeg")}throw new Error("Canvas is not supported")},switchCamera:function(){if(y<1)throw new Error("There isn't any video device accessible.");y<2&&console.warn("It is not possible to switch camera to different one, because there is only one video device accessible.");var n="user"===P?"environment":"user";return S(n),n},getNumberOfCameras:function(){return y}}})),Object(r.useEffect)((function(){return j(z,M,P,E,I,W)}),[P]),Object(r.useEffect)((function(){z&&f&&f.current&&(f.current.srcObject=z)}),[z]),i.a.createElement(h,{ref:k,aspectRatio:c},i.a.createElement(b,null,T?i.a.createElement(m,null,l):null,D?i.a.createElement(m,null,v):null,i.a.createElement(x,{ref:f,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:"user"===P}),i.a.createElement(w,{ref:g})))}));k.displayName="Camera";var j=function(n,e,t,r,i,o){var a,c;n&&n.getTracks().forEach((function(n){n.stop()}));var d={audio:!1,video:{facingMode:t,width:{ideal:1920},height:{ideal:1920}}};if(null===(c=null===(a=navigator)||void 0===a?void 0:a.mediaDevices)||void 0===c?void 0:c.getUserMedia)navigator.mediaDevices.getUserMedia(d).then((function(n){e(O(n,r))})).catch((function(n){y(n,i,o)}));else{var u=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;u?u(d,(function(n){e(O(n,r))}),(function(n){y(n,i,o)})):i(!0)}},O=function(n,e){var t=n.getVideoTracks()[0].getSettings(),r=JSON.stringify(t,null,4);return console.log("Camera settings "+r),navigator.mediaDevices.enumerateDevices().then((function(n){return e(n.filter((function(n){return"videoinput"===n.kind})).length)})),n},y=function(n,e,t){console.error(n),"PermissionDeniedError"===n.name?t(!0):e(!0)};function E(){var n=Object(d.a)(["\n  width: 120px;\n  height: 120px;\n  ","\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  @media (max-width: 400px) {\n    width: 50px;\n    height: 120px;\n  }\n"]);return E=function(){return n},n}function C(){var n=Object(d.a)(["\n  background: url(https://img.icons8.com/ios/50/000000/switch-camera.png);\n  background-position: center;\n  background-size: 40px;\n  background-repeat: no-repeat;\n  width: 40px;\n  height: 40px;\n  padding: 40px;\n  &:disabled {\n    opacity: 0;\n    cursor: default;\n    padding: 60px;\n  }\n  @media (max-width: 400px) {\n    padding: 40px 5px;\n    &:disabled {\n      padding: 40px 25px;\n    }\n  }\n"]);return C=function(){return n},n}function z(){var n=Object(d.a)(["\n  background: url('https://img.icons8.com/ios/50/000000/compact-camera.png');\n  background-position: center;\n  background-size: 50px;\n  background-repeat: no-repeat;\n  width: 80px;\n  height: 80px;\n  border: solid 4px black;\n  border-radius: 50%;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.3);\n  }\n"]);return z=function(){return n},n}function M(){var n=Object(d.a)(["\n  outline: none;\n  color: white;\n  opacity: 1;\n  background: transparent;\n  background-color: transparent;\n  background-position-x: 0%;\n  background-position-y: 0%;\n  background-repeat: repeat;\n  background-image: none;\n  padding: 0;\n  text-shadow: 0px 0px 4px black;\n  background-position: center center;\n  background-repeat: no-repeat;\n  pointer-events: auto;\n  cursor: pointer;\n  z-index: 2;\n  filter: invert(100%);\n  border: none;\n\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return M=function(){return n},n}function R(){var n=Object(d.a)(["\n  position: fixed;\n  display: flex;\n  right: 0;\n  width: 20%;\n  min-width: 130px;\n  min-height: 130px;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 50px;\n  box-sizing: border-box;\n  flex-direction: column-reverse;\n\n  @media (max-aspect-ratio: 1/1) {\n    flex-direction: row;\n    bottom: 0;\n    width: 100%;\n    height: 20%;\n  }\n\n  @media (max-width: 400px) {\n    padding: 10px;\n  }\n"]);return R=function(){return n},n}function P(){var n=Object(d.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n"]);return P=function(){return n},n}var S=u.a.div(P()),U=u.a.div(R()),D=u.a.button(M()),I=Object(u.a)(D)(z()),G=Object(u.a)(D)(C()),T=u.a.div(E(),(function(n){var e=n.image;return e?"background-image:  url(".concat(e,");"):""})),W=function(){var n=Object(r.useState)(0),e=Object(c.a)(n,2),t=e[0],o=e[1],a=Object(r.useState)(null),d=Object(c.a)(a,2),u=d[0],s=d[1],l=Object(r.useRef)(null);return i.a.createElement(S,null,i.a.createElement(k,{ref:l,aspectRatio:"cover",numberOfCamerasCallback:o}),i.a.createElement(U,null,i.a.createElement(T,{image:u}),i.a.createElement(I,{onClick:function(){if(l.current){var n=l.current.takePhoto();console.log(n),s(n)}}}),i.a.createElement(G,{disabled:t<=1,onClick:function(){if(l.current){var n=l.current.switchCamera();console.log(n)}}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.26bb519c.chunk.js.map